<!DOCTYPE html>
<html lang="en" dir="rtl">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="CSS/bootstrap.min.css">
    <link rel="stylesheet" href="Css/main.css">
    <link rel="shortcut icon" href="images/Books.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flickity/2.3.0/flickity.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>اضافة طلب</title>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <nav class="col-md-3 col-lg-2 sidebar">
                <div class="text-center profile-pic-mina">
                    
                    <div class="circular-img-prof-mina">
                        <img src="Images/shahn.png" alt="company img">

                    </div>
                    <p>مريم نعيم</p>
                </div>
                <a href="main.html">🏠 الرئيسية</a>
                <div class="accordion" id="casesAccordion" >
                    <div class="accordion-item item-drop-mina" >
                        <h2 class="accordion-header">
                            <button   class="accordion-button collapsed btn-drop-mina" type="button" data-bs-toggle="collapse" 
                                data-bs-target="#casesMenu" aria-expanded="false" aria-controls="casesMenu" >
                                🚚 الحالات
                            </button>
                        </h2>
                        <div id="casesMenu" class="accordion-collapse collapse" data-bs-parent="#casesAccordion">
                            <div class="accordion-body">
                                <ul class="list-unstyled">
                                    
                                    <li><a href="index.html">جميع الحالات</a></li>

                                    <li><a href="#">تم التسليم</a></li>
                                    <li><a href="#">تم الإلغاء</a></li>
                                    <li><a href="#">قيد الانتظار</a></li>
                                    <li><a href="#">تم التأجيل</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="accordion" id="casesAccordion" >
                    <div class="accordion-item item-drop-mina" >
                        <h2 class="accordion-header">
                            <button   class="accordion-button collapsed btn-drop-mina" type="button" data-bs-toggle="collapse" 
                                data-bs-target="#casesMenu2" aria-expanded="false" aria-controls="casesMenu2" >
                                💁‍♂ المستخدمين
                            </button>
                        </h2>
                        <div id="casesMenu2" class="accordion-collapse collapse" data-bs-parent="#casesAccordion">
                            <div class="accordion-body">
                                <ul class="list-unstyled">
                                    <li><a href="#">تاجر</a></li>
                                    <li><a href="#">مندوب</a></li>
                                    <li><a href="#">ادمن</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <a href="#">
                    📦 الطلبات
                </a>
                <a href="#">
                    💰 المصروفات
                </a>
                <a href="#">
                    📊 الإحصائيات
                </a>
                <a href="#">
                    📍 المحافظات
                </a>
                <a href="#">
                    🏢 الفروع
                </a>
                <a href="#">
                    🔒 تسجيل الخروج
                </a>
                         
            </nav>
            <main class="col-md-9 col-lg-10">
                <div class="top-bar">
                    <div>
                        <div class="makar-mina">
                            <p class="nav-things-mina pt-3"> الاجمالي : -125</p>
                        </div>
                        
                    </div>
                    <div class="logo-div-mina">
                        <img src="Images/shahn.png" alt="auto move logo">
                    </div>
                </div>
                <div class="container mt-5 tager-amira">
                    <div class="card">
                        <div class="card-header ">
                            <i class="fas fa-info-circle"></i> بيانات الطلب <span class="float-start"></span>
                        </div>
                        <div class="card-body">
                            <form id="merchantForm">
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="companyName" class="form-label">اسم الطلب:</label>
                                        <input type="text" disabled class="form-control border-form-amira" id="companyName" value="الطلب رقم 1001">
                                    </div>
                                    <div class="col-md-6">
                                        <label for="order_province" class="form-label">محافظةالطلب:</label>
                                        <input type="text" disabled class="form-control border-form-amira" id="companyName" value="القاهرة">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="address" class="form-label">عنوان التوصيل:</label>
                                        <input type="text" disabled class="form-control border-form-amira" id="address" value="شارع البترول-المرج-القاهرة">
                                    </div>
                                    <div class="col-md-6">
                                        <label for="headquartersLocation" class="form-label"> التاجر:</label>
                                        <input type="text" disabled class="form-control border-form-amira" id="address" value="شركة 1">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="headquartersLocation" class="form-label"> نوع الشحن:</label>
                                        <input type="text" disabled class="form-control border-form-amira" id="address" value="شحن عادي">
                                    </div>
                                    <div class="col-md-6">
                                        <label for="headquartersLocation" class="form-label">  حالة الطلب:</label>
                                        <input type="text" disabled class="form-control border-form-amira" id="address" value="تم الرفض مع دفع مصاريف الشحن">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="headquartersLocation" class="form-label">  الفرع:</label>
                                        <input type="text" disabled class="form-control border-form-amira" id="address" value="القاهرة">
                                    </div>
                                    <div class="col-md-6">
                                        <label for="mola7zat" class="form-label"> اسباب الرفض :</label>
                                        <textarea class="form-control border-form-amira" id="mola7zat" disabled>مزاجي كدا </textarea>
                                    </div>
                                </div>
                                <div class="row mb-3 mt-4">
                                    <div class="col-md-6">
                                    <label for="mola7zat" class="form-label">  ملاحظات علي الطلب:</label>
                                    <textarea class="form-control border-form-amira" id="mola7zat" disabled>الطلب يوجد به منتجات قابله للكسر و منتجات الكترونيه</textarea>
                                    </div>
                                </div>
                                <div class="order-summary">
                                    <h4 class="mb-3">تفاصيل الطلب</h4>
                                    <table class="table table-bordered text-center" id="orderTable">
                                        <thead class="table-light">
                                            <tr>
                                                <th>وصف المنتج</th>
                                                <th>العدد</th>
                                                <th>سعر القطعة</th>
                                                <th>السعر الكلي</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><p>تيشيرت ابيض مقاسه XL</p></td>
                                                <td><p>3</p></td>
                                                <td><p>100$</p></td>
                                                <td>300$</td>
                                            </tr>
                                            <tr>
                                                <td><p>تيشيرت ابيض مقاسه XL</p></td>
                                                <td><p>3</p></td>
                                                <td><p>100$</p></td>
                                                <td>300$</td>
                                            </tr>
                                            <tr>
                                                <td><p>تيشيرت ابيض مقاسه XL</p></td>
                                                <td><p>3</p></td>
                                                <td><p>100$</p></td>
                                                <td>300$</td>
                                            </tr>
                                            <tr>
                                                <td><p>تيشيرت ابيض مقاسه XL</p></td>
                                                <td><p>3</p></td>
                                                <td><p>100$</p></td>
                                                <td>300$</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <h4 class="mt-4">تفاصيل سعر الطلب</h4>
                                    <div class="p-3 border rounded bg-light">
                                        <p>مجموع المنتجات: <span class="fw-bold" id="totalProducts">3</span></p>
                                        <p>إجمالي سعر الطلب: <span class="fw-bold" id="totalPrice">1200$</span></p>
                                        <p>مصاريف الشحن: <span class="fw-bold">150$</span></p>
                                        <hr>
                                        <p class="fw-bold">المبلغ الكلي: <span id="finalAmount">1350$</span></p>
                                    </div>
                                    <h4 class="mt-4">تفاصيل تتبع الطلب</h4>
                                    <div class="p-3 border rounded bg-light">
                                        <p class="d-flex align-items-center show-status-momen"><i class="fas fa-box-open ms-3" style="color:#007bff;"></i><span class="fw-bold d-flex align-items-center" id="totalProducts">جديد في 1/1/2025 الساعه 20:33</span></p>
                                        <p class="d-flex align-items-center show-status-momen mt-5"><i class="fas fa-warehouse ms-3" style="color:#28a745;"></i><span class="fw-bold d-flex align-items-center" id="totalProducts">في المخزن في 1/1/2025 الساعه 20:33</span></p>
                                        <p class="d-flex align-items-center show-status-momen mt-5"><i class="fas fa-truck-moving ms-3" style="color:#fd7e14;"></i><span class="fw-bold d-flex align-items-center" id="totalProducts">جاري التوصيل الأن</span></p>
                                        <p class="d-flex align-items-center show-status-momen mt-5"><i class="fas fa-check-circle ms-3" style="color:#198754;"></i><span class="fw-bold d-flex align-items-center" id="totalProducts">تم التسليم في 1/1/2025 الساعه 20:33</span></p>
                                        <p class="d-flex align-items-center show-status-momen mt-5"><i class="fas fa-clock ms-3" style="color:#ffc107;"></i><span class="fw-bold d-flex align-items-center" id="totalProducts">تم التأجيل في 1/1/2025 الساعه 20:33</span></p>
                                        <p class="d-flex align-items-center show-status-momen mt-5"><i class="fas fa-phone-slash ms-3" style="color:#6c757d;"></i><span class="fw-bold d-flex align-items-center" id="totalProducts">لا يمكن الوصول للعميل في 1/1/2025 الساعه 20:33</span></p>
                                        <p class="d-flex align-items-center show-status-momen mt-5"><i class="fas fa-ban " style="color:#dc3545;"></i><i class="fas fa-money-bill ms-3" style="color:#dc3545;"></i><span class="fw-bold d-flex align-items-center" id="totalProducts">رفض ولم يتم دفع مصاريف الشحن في 1/1/2025 الساعه 20:33</span></p>
                                        <p class="d-flex align-items-center show-status-momen mt-5"><i class="fas fa-times-circle " style="color:#d63384;"></i><i class="fas fa-dollar-sign ms-3" style="color:#d63384;"></i><span class="fw-bold d-flex align-items-center" id="totalProducts">تم الرفض مع دفع مصاريف الشحن في 1/1/2025 الساعه 20:33</span></p>
                                        <p class="d-flex align-items-center show-status-momen mt-5"><i class="fas fa-times-circle ms-3" style="color:#343a40;"></i><span class="fw-bold d-flex align-items-center" id="totalProducts">تم الالغاء من قبل العميل في 1/1/2025 الساعه 20:33</span></p>
                                        <p class="d-flex align-items-center show-status-momen mt-5"><i class="fas fa-box ms-3" style="color:#6610f2;"></i><span class="fw-bold d-flex align-items-center" id="totalProducts">تم التسليم جزئيا في 1/1/2025 الساعه 20:33</span></p>
                                    </div>
                                </div>
                                <div class="div-btn-amira div-btn-OrderDetails-momen">
                                    <button type="submit" class="btn btn-primary btn-mina btn2-mina">تعديل<i class="fas fa-edit me-2"></i></button>
                                    <button type="submit" class="btn btn-danger btn-mina btn2-mina" onclick="showDeleteConfirmation()">حذف <i class="fas fa-trash me-2"></i></button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </main>
        
        </div>
    </div>
    
    

    <script>
       $(document).ready(function () {
    let productCount = 1;
    let totalPrice = 500;
    let shippingCost = 0;

    $('#addProduct').click(function (e) {
        e.preventDefault(); // Prevent the default anchor behavior
        productCount++;

        let newRow = `
            <tr>
                
                <td><input type="text" class="form-control" required></td>
                <td><input type="number" class="form-control product-quantity" value="1" required></td>
                <td><input type="number" class="form-control product-price" value="100" required></td>
                <td class="total-item-price">100$</td>
                <td><button class="btn btn-danger btn-sm delete-product">🗑 حذف</button></td>
            </tr>`;

        $('#orderTable tbody').append(newRow);
        updateTotal();
    });

    function updateTotal() {
        let total = 0;
        $('.product-price').each(function () {
            let row = $(this).closest('tr');
            let price = parseInt(row.find('.product-price').val()) || 0;
            let quantity = parseInt(row.find('.product-quantity').val()) || 1;
            total += price * quantity;
        });

        $('#totalProducts').text($('.product-quantity').length);
        $('#totalPrice').text(total + '$');
        $('#finalAmount').text((total + shippingCost) + '$');
    }

    $(document).on('input', '.product-price, .product-quantity', function () {
        let row = $(this).closest('tr');
        let price = parseInt(row.find('.product-price').val()) || 0;
        let quantity = parseInt(row.find('.product-quantity').val()) || 1;
        let totalItemPrice = price * quantity;

        row.find('.total-item-price').text(totalItemPrice + '$');
        updateTotal();
    });

    // Event to remove a product row
    $(document).on('click', '.delete-product', function () {
        $(this).closest('tr').remove();
        updateTotal();
    });
});

    </script>
    <script src="Js/bootstrap.bundle.min.js">
    </script>
     <script src="Js/main.js">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flickity/2.3.0/flickity.pkgd.min.js">
    </script>
</body>
</html>